<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>色盲挑战</title>
    <style>
        body {
            margin: 0;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #ffeef8, #fff5f9);
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        h1 {
            margin-bottom: 20px;
            font-size: 2.4rem;
            color: #ff6b9d;
            text-shadow: 0 1px 3px rgba(255,107,157,.3);
            letter-spacing: 1px;
        }
        #game-container {
            background: #fff;
            padding: 35px;
            border-radius: 16px;
            box-shadow: 0 6px 25px rgba(255,107,157,.15);
            text-align: center;
            max-width: 600px;
            width: 100%;
        }
        #color-display {
            width: 200px;
            height: 200px;
            margin: 0 auto 28px;
            border-radius: 50%;
            border: 5px solid #ff8fb1;
            transition: all .3s ease;
            box-shadow: 0 0 20px rgba(255,107,157,.5);
        }
        #color-display:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255,107,157,.7);
        }
        .options {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }
        button {
            padding: 14px 24px;
            font-size: 1.05rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all .2s ease;
            background: #fff0f8;
            color: #ff6b9d;
            font-weight: bold;
            box-shadow: 0 3px 8px rgba(255,107,157,.2);
            min-width: 120px;
        }
        button:hover { 
            transform: translateY(-3px) scale(1.05); 
            background: #ff8fb1;
            color: #fff;
            box-shadow: 0 6px 15px rgba(255,107,157,.3);
        }
        button.correct { 
            background: #ff6b9d; 
            color: #fff; 
            animation: pulse 0.6s ease;
        }
        button.wrong { 
            background: #ff4757; 
            color: #fff; 
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.18); }
            100% { transform: scale(1); }
        }
        #score, #timer {
            margin-top: 22px;
            font-size: 1.25rem;
            font-weight: bold;
            color: #ff6b9d;
        }
        #restart-judgement {
            margin-top: 18px;
            background: #ff6b9d;
            color: #fff;
            padding: 15px 32px;
            font-size: 1.15rem;
            border-radius: 50px;
            box-shadow: 0 4px 12px rgba(255,107,157,.3);
        }
        #restart-judgement:hover { 
            background: #ff4081; 
            transform: translateY(-2px);
        }
        #result {
            margin-top: 25px;
            font-size: 1.55rem;
            color: #ff6b9d;
            line-height: 1.9;
            text-shadow: 0 1px 2px rgba(255,105,157,.3);
            padding: 18px;
            background: rgba(255,240,248,.8);
            border-radius: 14px;
            border: 1px dashed #ff8fb1;
            max-width: 90%;
        }
        .comment-line {
            margin: 8px 0;
            padding: 6px 0;
            border-bottom: 1px dotted #ffb6d9;
        }
        .comment-line:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>

<div id="game-container">
    <h1>色盲挑战</h1>

    <div id="color-judgement" class="active">
        <div id="color-display"></div>
        <div class="options" id="options"></div>
        <div id="score">得分：0</div>
        <div id="timer">剩余时间：60秒</div>
        <div id="result"></div>
        <button id="restart-judgement">人家还想要！</button>
    </div>
</div>

<script>
const colorDisplay = document.getElementById('color-display');
const optionsContainer = document.getElementById('options');
const scoreDisplay = document.getElementById('score');
const timerDisplay = document.getElementById('timer');
const resultDisplay = document.getElementById('result');
const restartJudgement = document.getElementById('restart-judgement');

let judgementScore = 0;
let currentColor = '';
let judgementOptions = [];
let gameTimer;
let timeLeft = 60;
const FEEDBACK_DELAY = 320;

// 精选32种色气名词（不变）
const rawColorMap = {
    '奶白爱液':'#FFFAFA','处女膜粉':'#FFC1CC','潮红小穴':'#FF69B4','湿润樱唇':'#FF1493',
    '精液白浊':'#FFFFFF','黑丝深渊':'#000000','午夜蓝穴':'#191970','蓝色肉棒':'#0000FF',
    '天蓝淫液':'#87CEEB','青色潮吹':'#00FFFF','薄荷奶头':'#F5FFFA','春绿嫩肉':'#00FF7F',
    '酸橙绿棒':'#32CD32','黄色高潮':'#FFFF00','金色精液':'#FFD700','橙色爱液':'#FFA500',
    '珊瑚潮红':'#FF7F50','番茄红唇':'#FF6347','赤红肉壁':'#FF0000','艳粉小穴':'#FF69B4',
    '紫罗兰湿':'#EE82EE','洋红喷液':'#FF00FF','李子嫩肉':'#DDA0DD','深紫爱痕':'#9400D3',
    '栗色肉棒':'#800000','巧克力汁':'#D2691E','小麦乳汁':'#F5DEB3','鲑鱼潮红':'#FA8072',
    '玫瑰高潮':'#BC8F8F','猩红爱液':'#DC143C','橄榄嫩穴':'#808000','银色潮吹':'#C0C0C0'
};

const colorMap = {};
Object.keys(rawColorMap).forEach(k => {
    const key = k.trim();
    if (!key) return;
    colorMap[key] = rawColorMap[k];
});

const colorNames = Object.keys(colorMap);

function randomColor() {
    return colorNames[Math.floor(Math.random() * colorNames.length)];
}

function generateOptions(correct) {
    const opts = [correct];
    while (opts.length < 4) {
        const rand = randomColor();
        if (!opts.includes(rand)) opts.push(rand);
    }
    for (let i = opts.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [opts[i], opts[j]] = [opts[j], opts[i]];
    }
    return opts;
}

function startJudgementRound() {
    if (timeLeft <= 0) return;
    currentColor = randomColor();
    colorDisplay.style.backgroundColor = colorMap[currentColor];
    colorDisplay.style.transform = 'scale(1.05)';

    judgementOptions = generateOptions(currentColor);
    optionsContainer.innerHTML = '';

    judgementOptions.forEach(name => {
        const btn = document.createElement('button');
        btn.textContent = name;
        btn.addEventListener('click', () => checkJudgementAnswer(name, btn));
        optionsContainer.appendChild(btn);
    });

    setTimeout(() => {
        colorDisplay.style.transform = 'scale(1)';
    }, 200);
}

function checkJudgementAnswer(selected, btn) {
    if (btn.disabled || timeLeft <= 0) return;

    const buttons = optionsContainer.querySelectorAll('button');
    buttons.forEach(b => b.disabled = true);

    if (selected === currentColor) {
        btn.classList.add('correct');
        judgementScore++;
    } else {
        btn.classList.add('wrong');
        judgementScore = Math.max(0, judgementScore - 1);
        buttons.forEach(b => {
            if (b.textContent === currentColor) b.classList.add('correct');
        });
    }
    scoreDisplay.textContent = `得分：${judgementScore}`;

    setTimeout(() => {
        buttons.forEach(b => {
            b.disabled = false;
            b.className = '';
        });
        startJudgementRound();
    }, FEEDBACK_DELAY);
}

// 多句随机评语库（每档5句，随机抽取）
const comments = {
    perfect: [
        '哼哼——你这色鬼，眼睛比人家的小裤裤还尖！全看光光啦～下次要不要人家脱得更彻底点？',
        '呀！大哥哥好厉害！人家的小穴都被你看穿了呢～再来一次，人家要高潮到喷水哦！',
        '呜哇——你这变态！连人家最敏感的小豆豆都找得到？人家已经湿透啦！',
        '嘻嘻——你赢了！人家的小秘密全被你发现了～作为奖励，要不要舔舔人家的奶头？',
        '啊啊——你太棒了！人家要被你看化掉了～下次要不要试试用舌头找颜色？'
    ],
    excellent: [
        '呀——大哥哥好棒棒哦！人家的小秘密都被你发现了呢～再多摸摸，人家会更湿湿的哦？',
        '哼——还不错嘛！人家的小颜色都被你舔出来了呢～继续加油，人家要高潮啦！',
        '嘻嘻——你这色狼！连人家潮红的小穴都认得出来？再来一次，人家要夹紧你哦～',
        '呀！人家的小穴汁都被你看光了呢～再多猜对几题，人家就让你摸摸看！',
        '呜——你好坏！人家最敏感的地方都被你发现了～再来一次，人家要叫出声了！'
    ],
    good: [
        '嘻嘻——还不错嘛！人家的小颜色都被你舔出来了呢～继续加油，人家要高潮啦！',
        '哼——就这？人家的小缝缝你都看不清吗？再努力点嘛，不然人家要生气了哦～',
        '呀——你这笨蛋！人家的小穴都红成这样了你还认错？再来一次，人家要惩罚你！',
        '呜——你好笨！人家的小豆豆都硬起来了你都找不到？快点舔对地方啦！',
        '哼哼——还行啦！人家的小穴汁都流出来了你才认出来？下次要快一点哦！'
    ],
    average: [
        '哼——就这？人家的小缝缝你都看不清吗？再努力点嘛，不然人家要生气了哦～',
        '呜呜——你这笨蛋！人家的粉嫩小豆豆你都找不到吗？快点舔对地方啦！',
        '欸——你这色狼！人家的小穴都湿成这样了你还认错？再来一次，不然人家要哭了！',
        '呀——你好坏！人家的小穴汁都流到大腿了你才发现？下次要早点闻到哦！',
        '哼——还差得远呢！人家的小穴都红肿了你都认不出？多练习啦，小笨蛋！'
    ],
    poor: [
        '呜呜——你这笨蛋！人家的粉嫩小豆豆你都找不到吗？快点舔对地方啦！',
        '欸——？你眼睛是坏掉了吗？人家全裸在你面前你都看不见？色盲小废物～',
        '哼——你这废物！人家的小穴都张开给你看了你还认错？下次记得带放大镜！',
        '呀——你这色盲！人家的小穴汁都喷到你脸上了你都不知道？太笨啦！',
        '呜哇——你连人家的小穴颜色都认不出？人家要哭了！快去检查眼睛啦！'
    ],
    terrible: [
        '欸——？你眼睛是坏掉了吗？人家全裸在你面前你都看不见？色盲小废物～下次记得带放大镜来舔哦！',
        '哼——你这大废物！人家的小穴都湿成一片了你还认错？连狗都不如！',
        '呀——你这色盲！人家的小穴都红到滴血了你都看不见？快滚去医院！',
        '呜——你这笨蛋！人家的小豆豆都硬到发痛了你都找不到？太没用了！',
        '嘻——你连人家的小穴颜色都认不出？人家要笑死了！下次别来了，小废物！'
    ]
};

function getRandomComment(level) {
    const list = comments[level];
    return list[Math.floor(Math.random() * list.length)];
}

function startJudgementTimer(reset = true) {
    clearInterval(gameTimer);
    if (reset) timeLeft = 60;
    timerDisplay.textContent = `剩余时间：${timeLeft}秒`;
    resultDisplay.textContent = '';
    gameTimer = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `剩余时间：${timeLeft}秒`;
        if (timeLeft <= 0) {
            clearInterval(gameTimer);
            gameTimer = null;
            optionsContainer.innerHTML = '';

            let level = '';
            if (judgementScore >= 24) level = 'perfect';
            else if (judgementScore >= 18) level = 'excellent';
            else if (judgementScore >= 14) level = 'good';
            else if (judgementScore >= 10) level = 'average';
            else if (judgementScore >= 5) level = 'poor';
            else level = 'terrible';

            const comment = getRandomComment(level);

            resultDisplay.innerHTML = `
                <div style="font-size:1.9rem; margin-bottom:12px; color:#ff4081;">
                    游戏结束！得分：<span style="color:#ff6b9d; font-weight:bold;">${judgementScore}</span>
                </div>
                <div style="font-size:1.3rem; color:#ff8fb1; line-height:1.7;">
                    ${comment.split('～').map(line => line ? `<div class="comment-line">${line}～</div>` : '').join('')}
                </div>
            `;
        }
    }, 1000);
}

restartJudgement.addEventListener('click', () => {
    judgementScore = 0;
    scoreDisplay.textContent = `得分：${judgementScore}`;
    startJudgementTimer();
    startJudgementRound();
});

startJudgementTimer();
startJudgementRound();
</script>

</body>
</html>